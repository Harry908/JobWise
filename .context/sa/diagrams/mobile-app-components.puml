@startuml Mobile-App-Components
!theme plain
title Flutter Mobile App - Component Architecture

package "Presentation Layer" {
  package "Screens" {
    [Profile Screens] as ProfileScreens
    [Job Screens] as JobScreens
    [Generation Screens] as GenerationScreens
    [Settings Screen] as SettingsScreen
  }
  
  package "Widgets" {
    [Profile Forms] as ProfileForms
    [Job Cards] as JobCards
    [Generation Progress] as GenerationProgress
    [PDF Viewer Widget] as PDFWidget
  }
}

package "Business Logic Layer" {
  package "State Management" {
    [Profile Provider] as ProfileProvider
    [Job Provider] as JobProvider
    [Generation Provider] as GenerationProvider
    [App State Provider] as AppStateProvider
  }
  
  package "Services" {
    [API Service] as APIService
    [Storage Service] as StorageService
    [PDF Service] as PDFService
    [Sync Service] as SyncService
  }
}

package "Data Layer" {
  package "Models" {
    [Profile Models] as ProfileModels
    [Job Models] as JobModels
    [Generation Models] as GenerationModels
  }
  
  package "Local Storage" {
    [SQLite Database] as LocalDB
    [Shared Preferences] as SharedPrefs
    [File Cache] as FileCache
  }
}

package "External Interfaces" {
  [REST API Client] as RESTClient
  [PDF Viewer] as ExternalPDFViewer
  [File System] as FileSystem
}

' Screen to Widget relationships
ProfileScreens --> ProfileForms
JobScreens --> JobCards
GenerationScreens --> GenerationProgress
GenerationScreens --> PDFWidget

' Widget to Provider relationships
ProfileForms --> ProfileProvider
JobCards --> JobProvider
GenerationProgress --> GenerationProvider

' Provider to Service relationships
ProfileProvider --> APIService
ProfileProvider --> StorageService
JobProvider --> APIService
JobProvider --> StorageService
GenerationProvider --> APIService
GenerationProvider --> PDFService
AppStateProvider --> SyncService

' Service to Model relationships
APIService --> ProfileModels
APIService --> JobModels
APIService --> GenerationModels
StorageService --> ProfileModels
PDFService --> GenerationModels

' Service to Storage relationships
StorageService --> LocalDB
StorageService --> SharedPrefs
PDFService --> FileCache
SyncService --> LocalDB

' Service to External relationships
APIService --> RESTClient
PDFService --> ExternalPDFViewer
StorageService --> FileSystem

' Add component details
note right of ProfileProvider
  State Management:
  - Current profile
  - Loading states
  - Error handling
  - Form validation
  
  Methods:
  - loadProfile()
  - createProfile()
  - updateProfile()
  - deleteProfile()
end note

note right of APIService
  HTTP Operations:
  - Profile CRUD
  - Job search/fetch
  - Resume generation
  - Status polling
  
  Features:
  - Request/response interceptors
  - Retry logic
  - Offline queue
  - Error mapping
end note

note right of StorageService
  Local Storage:
  - Profile caching
  - Job listing cache
  - Generated documents
  - User preferences
  
  Sync Strategy:
  - Last-write-wins
  - Conflict detection
  - Offline-first approach
end note

note right of GenerationProvider
  Generation State:
  - Request tracking
  - Progress monitoring
  - Result caching
  - History management
  
  Real-time Updates:
  - Status polling
  - Push notifications
  - Background sync
end note

@enduml